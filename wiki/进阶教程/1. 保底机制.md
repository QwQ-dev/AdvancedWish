# Advanced Wish - Wiki
---
> 此篇 Wiki 更新时间: 2023.3.8
---
> #### Wiki - 1. 保底机制
- 此章将会简单对保底机制进行说明，一些拓展写法讲解。
---
> #### 保底机制
- 如果您看了基础教程，那么您应该对机制有所了解。
- Advanced Wish 的保底机制是等于，例如一个保底在 10 保底值被触发，玩家目前的保底值为 9，那么玩家会在下下次抽奖获得保底。玩家目前保底值为 9，抽奖一次增加到 10，再抽奖一次触发保底。
- 总的来说，Advanced Wish 对于保底的处理逻辑是: 抽奖 - 判断当前 - 是否触发? - 若触发则更改保底值返回保底 否则更改保底值正常随机。
---
> #### 深入了解
- 您应该已经了解了 Advanced Wish 对于基础保底的处理，那么问题来了，如果保底的执行项返回为 null 会发生什么? 其实此问题已经在默认配置文件提及。
- 如果返回的执行项为 null，那么此保底则被判断为无法触发，之后判断下一个保底，直到找到了可触发的保底或没有找到保底开始随机。
- 那么下面这种写法的判断顺序是什么?
![保底](https://foruda.gitee.com/images/1678269558516523889/e6053a00_11889415.png "Screenshot 2023-03-08 175907.png")
- 对于图中多个保底，Advanced Wish 会按照先后顺序进行判断，先 NEW-PLAYER 后 GUARANTEED-100，以此类推。这意味着，如果 NEW-PLAYER 保底顺利通过，那么下面的保底无论是否通过都会被忽略。
---
> #### 实际操作
- 那么回归正题，我们应该如何设定大小保底? 这其实非常简单，我们只需要写多个保底就好了。但是我们是否有可能让保底来一点歪的几率呢? 类似于... 原神???
- 这也是可行的，Advanced Wish 提供了随机语句 method.randomSentence，此语句是无限元素的，但必须为偶数，单数必须为随机元素，双数必须为对应概率。

```
method.randomSentence(\"DO-LIST.A\", 5, \"DO-LIST.B\", 5)
```
- 这便是一个简单的例子，此语句会对 "DO-LIST.A" "DO-LIST.B" 进行随机，概率分别为百分之五十。这便是一个简单的歪。
- 那我是否可以让保底必须要达到某种条件才可以使用? 这也是可以的，因为我们已经提到过了，如果返回的执行项为 null，那么此保底不会被触发。

```
%aw_amount_基础许愿池% == 0 ? \"DO-LIST.B\" : null
```
- 此处的示例使用三元运算符，也称为条件运算符，对变量进行解析，如果变量为 0 的话则返回 DO-LIST.B，否则为 null。
- 读者需注意转义。
---